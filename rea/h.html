<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
    <script type="text/babel" src="board_canvas.js"></script>
    <!-- <link rel="stylesheet" href="./gobang.css" /> -->
    <style>
      canvas {
        cursor: pointer;
        width: 520px;
        height: 520px;
        border: 1px solid #aaa;
        display: block;
        margin: auto;
        /* padding: 10px; */
        box-sizing: border-box;
        box-shadow: 0 0 10px #aaa;
        background-color: palegoldenrod;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="470" height="470"></canvas>
    <script>
      const canvas = document.querySelector('canvas');
      const ctx = canvas.getContext('2d');

      function draw() {
        ctx.strokeStyle = 'black';
        for (let i = 0; i < 10; i++) {
          console.log(i);
          ctx.moveTo(10, 10 + 50 * i);
          ctx.lineTo(460, 10 + 50 * i);
          ctx.stroke();
        }

        for (let i = 0; i < 10; i++) {
          ctx.moveTo(10 + 50 * i, 10);
          ctx.lineTo(10 + 50 * i, 460);
          ctx.stroke();
        }
      }

      function setPlot(i, j, status) {
        ctx.beginPath();
        ctx.arc(10 + i * 50, 10 + j * 50, 15, 0, 2 * Math.PI);

        if (status == 1) {
          // 白棋
          ctx.fillStyle = 'white';
        } else if (status == -1) {
          ctx.fillStyle = 'black';
        } else {
          ctx.fillStyle = 'white';
          ctx.fill();
          ctx.fillStyle = 'palegoldenrod';
          ctx.fill();
          ctx.fillStyle = 'palegoldenrod';
          ctx.fill();
          ctx.fillStyle = 'palegoldenrod';
          ctx.fill();
          ctx.beginPath();

          draw();
          return;
        }
        ctx.fill();
      }

      function get_x_y(e) {
        let i = e.offsetX;
        let j = e.offsetY;
        [x, y] = [Math.floor(j / 50), Math.floor(i / 50)];
        setPlot(x, y, -1);
      }

      draw();
      setPlot(1, 1, -1);
      setPlot(1, 1, 0);
      setPlot(1, 1, 1);
      setPlot(1, 1, 0);
      canvas.addEventListener('click', get_x_y);
    </script>
  </body>
</html>
